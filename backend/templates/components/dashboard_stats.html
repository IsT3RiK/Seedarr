<!-- Reusable Dashboard Stats Component -->
<!-- Used by API endpoints to render dashboard statistics for HTMX injection -->

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-label">Active Jobs</div>
        <div class="stat-value">{{ active_count }}</div>
        <div class="stat-change {% if active_count > 0 %}positive{% else %}neutral{% endif %}">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd"></path>
            </svg>
            {% if active_count > 0 %}
                Currently processing
            {% else %}
                No jobs running
            {% endif %}
        </div>
    </div>

    <div class="stat-card">
        <div class="stat-label">Completed Today</div>
        <div class="stat-value">{{ completed_today }}</div>
        <div class="stat-change positive">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd"></path>
            </svg>
            {% if today_change >= 0 %}
                +{{ today_change }} from yesterday
            {% else %}
                {{ today_change }} from yesterday
            {% endif %}
        </div>
    </div>

    <div class="stat-card">
        <div class="stat-label">Queue Size</div>
        <div class="stat-value">{{ queue_size }}</div>
        <div class="stat-change">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
            </svg>
            Waiting to process
        </div>
    </div>

    <div class="stat-card">
        <div class="stat-label">Success Rate</div>
        <div class="stat-value">{{ success_rate }}%</div>
        <div class="stat-change positive">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            Last 30 days
        </div>
    </div>
</div>

<style>
    .stat-change.neutral {
        color: var(--text-muted);
    }

    .stat-change.positive {
        color: #10b981;
    }
</style>
