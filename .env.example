# =============================================================================
# Seedarr - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# Most settings can also be configured via the Settings UI at /settings
# =============================================================================

# =============================================================================
# DATABASE CONFIGURATION (Required)
# =============================================================================
# SQLite database URL (default) - stores settings, cache, and metadata
# For production, consider PostgreSQL: postgresql://user:password@host:port/dbname
DATABASE_URL=sqlite:///./backend/data/seedarr.db

# =============================================================================
# EXTERNAL SERVICES (Can be configured via Settings UI)
# =============================================================================
# TMDB API Key for metadata fetching
# Get your API key from: https://www.themoviedb.org/settings/api
# Can also be configured in Settings UI
TMDB_API_KEY=your_tmdb_api_key_here

# FlareSolverr URL for Cloudflare bypass
# Default: http://localhost:8191
# Can also be configured in Settings UI
FLARESOLVERR_URL=http://localhost:8191

# Tracker Configuration (Stored in database, configured via Settings UI)
# These environment variables are optional fallbacks
# TRACKER_URL=https://lacale.example.com
# TRACKER_PASSKEY=your_tracker_passkey_here
# TRACKER_ANNOUNCE_URL=https://lacale.example.com/announce.php?passkey=your_passkey

# qBittorrent Web UI Configuration
# REQUIRED: Set these for qBittorrent integration
# Can also be configured via Settings UI (database takes precedence)
QBITTORRENT_HOST=localhost:8080
QBITTORRENT_USERNAME=admin
QBITTORRENT_PASSWORD=your_qbittorrent_password_here

# =============================================================================
# APPLICATION CONFIGURATION (Optional)
# =============================================================================
# Application host and port (for direct Python execution, not Docker)
# Docker deployment: Set APP_PORT to change the exposed port
APP_HOST=0.0.0.0
APP_PORT=8000

# Timezone configuration (default: UTC)
# Examples: UTC, America/New_York, Europe/Paris, Asia/Tokyo
TZ=UTC

# =============================================================================
# DEVELOPMENT MODE (Optional)
# =============================================================================
# Enable hot reload for development (requires 'arel' package)
# Set to "true" to enable automatic reload on file changes
DEV_MODE=false

# Enable debug logging
# Set to "true" for verbose logging output
DEBUG=false

# =============================================================================
# CORS CONFIGURATION (Optional - Security)
# =============================================================================
# Comma-separated list of allowed origins for CORS
# Example: CORS_ORIGINS=https://app.example.com,https://api.example.com
# Leave empty to use default (http://localhost:8000)
# In DEV_MODE=true, CORS allows all origins (*)
CORS_ORIGINS=

# =============================================================================
# REQUEST TIMEOUTS (Optional - Performance Tuning)
# =============================================================================
# Timeout values in seconds (unless otherwise specified)
# Increase these values if you experience timeout errors with slow connections

# General API request timeout (seconds)
API_REQUEST_TIMEOUT=30

# FlareSolverr timeout (milliseconds)
FLARESOLVERR_TIMEOUT=60000

# TMDB API timeout (seconds)
TMDB_API_TIMEOUT=10

# Service health check timeout (seconds)
HEALTH_CHECK_TIMEOUT=5

# qBittorrent API timeout (seconds)
QBITTORRENT_TIMEOUT=10

# =============================================================================
# CIRCUIT BREAKER CONFIGURATION (Optional - Reliability)
# =============================================================================
# Circuit breaker prevents cascading failures by stopping requests to failing services

# Number of consecutive failures before opening circuit
CIRCUIT_BREAKER_MAX_FAILURES=3

# Duration to keep circuit open before retry (seconds)
CIRCUIT_BREAKER_OPEN_DURATION=60

# =============================================================================
# RETRY CONFIGURATION (Optional - Reliability)
# =============================================================================
# Maximum number of retries for failed network requests
MAX_RETRIES=5

# Exponential backoff base multiplier for retries
RETRY_EXPONENTIAL_BASE=2

# =============================================================================
# CACHE CONFIGURATION (Optional - Performance)
# =============================================================================
# TMDB metadata cache TTL (days)
TMDB_CACHE_TTL_DAYS=30

# Tracker tags cache TTL (days)
TAG_CACHE_TTL_DAYS=7

# =============================================================================
# PATHS CONFIGURATION (Optional - Advanced)
# =============================================================================
# Path to your media files (mounted to /media in Docker)
# Examples: ./media, /mnt/nas/media, Z:/
MEDIA_PATH=./media

# NAS credentials (for CIFS volume mount - see docker-compose.yml)
# NAS_USERNAME=your_nas_username
# NAS_PASSWORD=your_nas_password

# Output directory for processed releases (optional)
# OUTPUT_DIR=/output

# Custom paths for templates and static files
# Only change these if you have a custom directory structure
# TEMPLATES_DIR=backend/templates
# STATIC_DIR=backend/static

# =============================================================================
# TESTING CONFIGURATION (Optional)
# =============================================================================
# Use real external services for integration/e2e tests
# Set to "true" to test against actual services (requires valid credentials)
# Default: "false" (uses mocks)
USE_REAL_SERVICES=false

# =============================================================================
# NOTES
# =============================================================================
# 1. Most settings are stored in the database and can be configured via the
#    Settings UI at /settings after the application starts.
#
# 2. Environment variables serve as fallbacks when database settings are not
#    configured yet.
#
# 3. Sensitive data (API keys, passwords) should be kept secure. Consider using
#    environment-specific .env files and never commit them to version control.
#
# 4. For production deployment, use strong passwords and keep credentials secure.
#
# 5. DATABASE_URL is the only setting that must be configured via environment
#    variable (it cannot be stored in the database itself).
# =============================================================================
